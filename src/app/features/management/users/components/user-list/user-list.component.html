<p-table [value]="users" [paginator]="true"
         [rows]="10" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template pTemplate="header">
        <tr>
            <th>Nom</th>
            <th>Prénom</th>
            <th>Email</th>
            <th>Rôle</th>
            <th>Heures Prestables</th>
            <th>VA</th>
            <th>VAEX</th>
            <th>RC</th>
            <th>Actif</th>
            <th>Actions</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-user>
        <tr>
            <td>{{ user.nom }}</td>
            <td>{{ user.prenom }}</td>
            <td>{{ user.email }}</td>
            <td>{{ getRoleName(user.role_Id) }}</td>
            <td>{{ user.heures_annuelles_prestables }}</td>
            <td>{{ user.VA }}</td>
            <td>{{ user.VAEX }}</td>
            <td>{{ user.RC }}</td>
            <td>
                <p-chip [label]="user.isActive ? 'Oui' : 'Non'" [class]="user.isActive ? 'p-chip-success' : 'p-chip-danger'"></p-chip>
            </td>
            <td>
                <button pButton type="button" icon="pi pi-pencil" label="Modifier" class="p-button-text"></button>
                <button pButton type="button" icon="pi pi-trash" label="Désactiver" class="p-button-text p-button-danger"></button>
            </td>
        </tr>
    </ng-template>
</p-table>
<!-- Bouton pour afficher le formulaire d'ajout d'utilisateur -->
<button
    pButton
    type="button"
    label="Ajouter un utilisateur"
    icon="pi pi-plus"
    (click)="showAddUserDialog()"
></button>

<!-- Dialog pour le formulaire d'ajout d'utilisateur -->
<p-dialog
    header="Ajouter un utilisateur"
    [(visible)]="displayAddUserDialog"
    [modal]="true"
    [style]="{ width: '500px' }"
>
    <app-user-form (ngSubmit)="displayAddUserDialog = false"></app-user-form>
</p-dialog>
